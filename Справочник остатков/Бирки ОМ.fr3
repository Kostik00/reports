<?xml version="1.0" encoding="utf-8"?>
<TfrxReport Version="6.9.6" DotMatrixReport="False" IniFile="\Software\Fast Reports" PreviewOptions.Buttons="2047" PreviewOptions.Zoom="1" PrintOptions.Printer="TSC TA310" PrintOptions.PrintOnSheet="0" ReportOptions.CreateDate="38513,0822621875" ReportOptions.Description.Text="" ReportOptions.Name="Бирки ОМ.fr3 Справочник остатков" ReportOptions.LastChange="44645,6304361806" ScriptLanguage="PascalScript" ScriptText.Text="USES 'CommonRU.pas';&#13;&#10;&#13;&#10;&#13;&#10;function fnDorab:string;&#13;&#10;begin&#13;&#10;  Result:='';&#13;&#10;&#13;&#10;  if  &#60;Строки.&#34;Cod_Pasp&#34;&#62; &#60;&#62; '' then&#13;&#10;    Result:='пасп.' + &#60;Строки.&#34;Cod_Pasp&#34;&#62;;&#13;&#10;&#13;&#10;&#13;&#10;end;&#13;&#10;&#13;&#10;function FnPlace:string;&#13;&#10;begin&#13;&#10;  Result:='';&#13;&#10;  if &#60;Строки.&#34;Cod_Pasp_Place&#34;&#62; &#60;&#62; '' THEN&#13;&#10;    Result:='Место: '+&#60;Строки.&#34;Cod_Pasp_Place&#34;&#62;;&#13;&#10;end;&#13;&#10;&#13;&#10;function FnGodn:string;&#13;&#10;begin&#13;&#10;  Result:='';&#13;&#10;  if  &#60;Строки.&#34;SrokGodn&#34;&#62; &#60;&#62; 0 then&#13;&#10;    Result:= #13#10'Срок годн. '+DateToStr(&#60;Строки.&#34;SrokGodn&#34;&#62;);&#13;&#10;&#13;&#10;end;&#13;&#10;&#13;&#10;&#13;&#10;function FnCode:string;&#13;&#10;begin&#13;&#10; // Result := '444';&#13;&#10; // exit;&#13;&#10;  if &#60;Строки.&#34;Key_Nacl_Str_Sost&#34;&#62; &#60;&#62; 0 then&#13;&#10;    Result:='1 8 '+IntToStr(&#60;Строки.&#34;Key_Nacl_Str_Sost&#34;&#62;)&#13;&#10;  else&#13;&#10;    Result:='1 7 '+IntToStr(&#60;Строки.&#34;Key_Nacl_Str&#34;&#62;);&#13;&#10;&#13;&#10;&#13;&#10;end;&#13;&#10;&#13;&#10;procedure MasterData1OnBeforePrint(Sender: TfrxComponent);&#13;&#10;begin&#13;&#10;//  SrokGodnostiMemo.Visible:= &#60;Строки.&#34;SrokGodn&#34;&#62; &#62; 0 ;&#13;&#10;//  PrimenMemo.Visible := &#60;Строки.&#34;Primen&#34;&#62; &#60;&#62; '';&#13;&#10;&#13;&#10;  ZagotovMemo.Visible:=Length(&#60;Строки.&#34;ProfRazm&#34;&#62;) &#62;0;&#13;&#10;end;&#13;&#10;&#13;&#10;begin&#13;&#10;&#13;&#10;end." StoreInDFM="False">
  <Datasets>
    <item DataSet="MainFrxDS" DataSetName="MainDS"/>
    <item DataSet="NaclStr" DataSetName="Строки"/>
    <item DataSet="ZakazQRY" DataSetName="Заказы"/>
  </Datasets>
  <TfrxDataPage Name="Data" HGuides.Text="" VGuides.Text="" Height="1000" Left="0" Top="0" Width="1000">
    <TfrxERQuery Name="NaclStr" UserName="Строки" CloseDataSource="True" FieldAliases.Text="" BCDToCurrency="False" Master="MainFrxDS" IgnoreDupParams="False" SQL.Text="DECLARE @Key_Id_Mat		INT&#13;&#10;DECLARE @Key_Sub_Ver	INT &#13;&#10;                                                                     &#13;&#10;SET @Key_Id_Mat=:Key_Id_Mat&#13;&#10;SET @Key_Sub_Ver=:Key_Sub_Ver&#13;&#10;&#13;&#10;&#13;&#10;&#13;&#10;SELECT&#13;&#10;  A_Nacl_Str.Key_Nacl_Str,&#13;&#10;  A_Nacl_Str.Key_Nacl,&#13;&#10;  A_Nacl_Str.Key_ID_Mat,&#13;&#10;&#13;&#10;  dbo.A_FnGetNaclStrRezerv(A_Nacl_Str.Key_Nacl_Str) Primen,                           &#13;&#10;&#13;&#10;    &#13;&#10;  T_VPredm.Key_Predm,&#13;&#10;&#13;&#10;  T_VPredm.PrintFlag,&#13;&#10;  T_VPredm.Cod_Predm,                            &#13;&#10;  T_VPredm.Name_Predm,&#13;&#10;  T_VPredm.Sortam,&#13;&#10;  T_VPredm.Type_NTD_Sortam,&#13;&#10;  T_VPredm.Name_NTD_Sortam,&#13;&#10;  T_VPredm.Marka,&#13;&#10;  T_VPredm.Type_NTD_Marka,&#13;&#10;  T_VPredm.Name_NTD_Marka,&#13;&#10;  A_VID_Mat.VidSert,&#13;&#10;  A_VID_Mat.N_Sert,&#13;&#10;  A_VID_Mat.Date_Sert,&#13;&#10;  A_VID_Mat.Cod_Plavka,&#13;&#10;  A_VID_Mat.Party,&#13;&#10;  A_VID_Mat.SrokGodn,&#13;&#10;&#13;&#10;  A_VID_Mat.RegN_Sert, &#13;&#10;  A_VID_Mat.RegN,&#13;&#10;    &#13;&#10;      &#13;&#10;  A_Nacl_Str.Kolvo,&#13;&#10;  A_Nacl_Str.Cod_Ed_Izm,&#13;&#10;  T_EdIzm.Name_K_Ed,&#13;&#10;  T_VPredm.Cod_Ed_Izm AS BaseCodEd,&#13;&#10;  T_VPredm.Name_K_Ed AS BaseEdizm,&#13;&#10;  A_Nacl_Str.KolvoInBaseEd,&#13;&#10;  A_Nacl_Str.Price,&#13;&#10;  A_Nacl_Str.PercNds,&#13;&#10;  A_Nacl_Str.Sm,&#13;&#10;  A_Nacl_Str.SmNDS,&#13;&#10;  A_Nacl_Str.SrokKons,&#13;&#10;  A_Nacl_Str.NumStr_By_Docum,              &#13;&#10;  A_Nacl_Str_Sost.Key_Nacl_Str_Sost,                                            &#13;&#10;  A_Nacl_Str_Sost.ProfRazm,&#13;&#10;  A_Nacl_Str_Sost.Kolvo KolvoZag,                           &#13;&#10;  T_Zagotov.Name_K_Zagotov   Name_Zagotov,&#13;&#10;  A_VID_Mat.Cod_Pasp,&#13;&#10;  A_Nacl_Str_Sost.StrMark ,&#13;&#10; &#13;&#10;  Pr_Pasp_Place.Cod_Pasp_Place      &#13;&#10;FROM&#13;&#10;  A_Nacl&#13;&#10;  INNER JOIN A_Nacl_Str&#13;&#10;    ON  A_Nacl_Str.Key_Nacl=A_Nacl.Key_Nacl                                                                             &#13;&#10;  INNER JOIN A_VID_Mat&#13;&#10;    ON A_VID_Mat.Key_ID_Mat = A_Nacl_Str.Key_ID_Mat&#13;&#10;  INNER JOIN  T_VPredmSkl T_VPredm&#13;&#10;    ON T_VPredm.Key_Predm = A_VID_Mat.Key_Predm&#13;&#10;  INNER JOIN T_EdIzm&#13;&#10;    ON A_Nacl_Str.Cod_Ed_Izm = T_EdIzm.Cod_Ed_Izm&#13;&#10;  LEFT JOIN A_Nacl_Str_Sost&#13;&#10;	ON A_Nacl_Str_Sost.Key_Nacl_Str = A_Nacl_Str.Key_Nacl_Str&#13;&#10;  LEFT JOIN T_Zagotov&#13;&#10;	ON T_Zagotov.Cod_Zagotov = A_Nacl_Str_Sost.Cod_Zagotov&#13;&#10;  LEFT JOIN Pr_Pasp_Place&#13;&#10;	ON Pr_Pasp_Place.Key_Pasp_Place = A_Nacl_Str_Sost.Key_Pasp_Place&#13;&#10;  &#13;&#10;                                                                       &#13;&#10;WHERE&#13;&#10;   A_Nacl_Str.Key_Id_Mat= @Key_Id_Mat&#13;&#10;   AND  A_Nacl.Key_Sub_Ver_To=@Key_Sub_Ver&#13;&#10;   AND      &#13;&#10;   (&#13;&#10;   A_Nacl_Str.Kolvo &#62; A_Nacl_Str.Rashod&#13;&#10;   OR&#13;&#10;   A_Nacl_Str_Sost.Kolvo &#62; A_Nacl_Str_Sost.Rashod&#13;&#10;   )&#13;&#10;  &#13;&#10;     &#13;&#10;ORDER BY&#13;&#10;       A_Nacl_Str.NumStr_By_Docum      " PropData="05704C656674023C0470546F7002140A506172616D657465727301010C27000000204E616D653D224B65795F49645F4D6174222044617461547970653D226674556E6B6E6F776E2200010C28000000204E616D653D224B65795F5375625F566572222044617461547970653D226674556E6B6E6F776E220000"/>
    <TfrxERQuery Name="ZakazQRY" UserName="Заказы" CloseDataSource="True" FieldAliases.Text="" BCDToCurrency="False" Master="NaclStr" IgnoreDupParams="False" SQL.Text="SELECT  DISTINCT      TOP 4                                        &#13;&#10;	A_Nacl_Str_VKZ.Key_Nacl_Str,&#13;&#10;	P_VKZ.Cod_Zak,&#13;&#10;	T_VPredm.Cod_Predm, &#13;&#10;	T_VPredm.Name_Predm&#13;&#10;FROM            &#13;&#10;	A_Nacl_Str_VKZ &#13;&#10;	INNER JOIN P_VKZ &#13;&#10;		ON A_Nacl_Str_VKZ.Key_VKZ_Izdel = P_VKZ.Key_VKZ &#13;&#10;	INNER JOIN T_VPredm &#13;&#10;		ON P_VKZ.Key_Predm = T_VPredm.Key_Predm&#13;&#10;WHERE&#13;&#10;  A_Nacl_Str_VKZ.Key_Nacl_Str = :Key_Nacl_Str" SQLSchema="eAF9kE9rwzAMxe+GfBMdbNlLk4EO3gI9NHQZDTs0DOPWPpT+Azc97NtP7kZWdig2WJZ+j/fQ0PjRv/hL/CzE6r0lXdYGEU1lCjH0fnOIF55Ysm7ptwe3GpNr1wtQT/milPzIQljFQO7jDBBLmAYNNe6jS+dw3Y6uu24AKzAlA6b6UfbUZyCGI+gaZlj/aYd52gU2l7SIX5M9/EtiQYG8HXq+5wqh6PUc3NrvWZKzWTWhhcDbsEvZeErQ3wGalv4Y3QPC0FsKMWWTB9TQ7k77vENJyDF/M+R0ht005CZvEMlwqUAzw99vD8lqkQ==" PropData="05704C656674027C0470546F7002140A506172616D657465727301010C29000000204E616D653D224B65795F4E61636C5F537472222044617461547970653D226674556E6B6E6F776E220000"/>
  </TfrxDataPage>
  <TfrxReportPage Name="Page1" HGuides.Text="" VGuides.Text="" PaperWidth="100" PaperHeight="68" PaperSize="256" LeftMargin="2" RightMargin="2" TopMargin="2" BottomMargin="2" ColumnWidth="0" ColumnPositions.Text="" Frame.Typ="0" LargeDesignHeight="True" MirrorMode="0">
    <TfrxMasterData Name="MasterData1" FillType="ftBrush" FillGap.Top="0" FillGap.Left="0" FillGap.Bottom="0" FillGap.Right="0" Frame.Typ="0" Height="245,66929134" Left="0" Top="18,89765" Width="362,83488" OnBeforePrint="MasterData1OnBeforePrint" ColumnWidth="0" ColumnGap="0" DataSet="NaclStr" DataSetName="Строки" RowCount="0">
      <TfrxMemoView Name="Memo1" Align="baWidth" AllowVectorExport="True" ShiftMode="smDontShift" Left="0" Top="51,023655" Width="362,83488" Height="37,7953" StretchMode="smActualHeight" AllowHTMLTags="True" Font.Charset="1" Font.Color="0" Font.Height="-21" Font.Name="Times New Roman" Font.Style="0" Frame.Typ="0" HAlign="haCenter" ParentFont="False" Text="[PrintPredm(&#60;РЎС‚СЂРѕРєРё.&#34;PrintFlag&#34;&#62;, &#60;РЎС‚СЂРѕРєРё.&#34;Cod_Predm&#34;&#62;, &#60;РЎС‚СЂРѕРєРё.&#34;Name_Predm&#34;&#62;, &#60;РЎС‚СЂРѕРєРё.&#34;Sortam&#34;&#62;, &#60;РЎС‚СЂРѕРєРё.&#34;Type_NTD_Sortam&#34;&#62;,&#60;РЎС‚СЂРѕРєРё.&#34;Name_NTD_Sortam&#34;&#62;,&#60;РЎС‚СЂРѕРєРё.&#34;Marka&#34;&#62;,&#60;РЎС‚СЂРѕРєРё.&#34;Type_NTD_Marka&#34;&#62;,&#60;РЎС‚СЂРѕРєРё.&#34;Name_NTD_Marka&#34;&#62;)] {[РЎС‚СЂРѕРєРё.&#34;Key_Predm&#34;]}">
        <Formats>
          <item/>
          <item/>
        </Formats>
      </TfrxMemoView>
      <TfrxMemoView Name="ZagotovMemo" AllowVectorExport="True" Left="0" Top="132,28355" Width="366,61441" Height="15,11812" StretchMode="smActualHeight" AllowHTMLTags="True" Clipped="False" DataSet="NaclStr" DataSetName="Строки" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Times New Roman" Font.Style="0" Frame.Typ="0" GapX="3" HAlign="haCenter" ParentFont="False" Text="[РЎС‚СЂРѕРєРё.&#34;Name_Zagotov&#34;]  [РЎС‚СЂРѕРєРё.&#34;ProfRazm&#34;] ([РЎС‚СЂРѕРєРё.&#34;KolvoZag&#34;] С€С‚.) &#13;&#10;РњР°СЂРєРёСЂРѕРІРєР°: [РЎС‚СЂРѕРєРё.&#34;StrMark&#34;]">
        <Formats>
          <item/>
          <item/>
          <item/>
          <item/>
        </Formats>
      </TfrxMemoView>
      <TfrxMemoView Name="Memo3" Align="baWidth" AllowVectorExport="True" Left="0" Top="88,818955" Width="362,83488" Height="18,89765" StretchMode="smActualHeight" AllowHTMLTags="True" DataSet="NaclStr" DataSetName="Строки" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Times New Roman" Font.Style="0" Frame.Typ="0" HAlign="haCenter" HideZeros="True" ParentFont="False" Text="[РЎС‚СЂРѕРєРё.&#34;RegN_Sert&#34;] [FnGodn]">
        <Formats>
          <item/>
          <item/>
          <item/>
          <item/>
          <item/>
          <item/>
          <item/>
        </Formats>
      </TfrxMemoView>
      <TfrxMemoView Name="Memo4" AllowVectorExport="True" Left="0" Top="113,3859" Width="170,07885" Height="18,89765" AllowHTMLTags="True" DataSet="NaclStr" DataSetName="Строки" Font.Charset="1" Font.Color="0" Font.Height="-19" Font.Name="Arial" Font.Style="0" Frame.Typ="0" ParentFont="False" Text="РџР»Р°РІРєР°: &#60;B&#62;[РЎС‚СЂРѕРєРё.&#34;Cod_Plavka&#34;]&#60;/B&#62;"/>
      <TfrxMemoView Name="Memo5" AllowVectorExport="True" Left="179,527675" Top="113,3859" Width="173,85838" Height="18,89765" AllowHTMLTags="True" Clipped="False" DataSet="NaclStr" DataSetName="Строки" Font.Charset="1" Font.Color="0" Font.Height="-19" Font.Name="Arial" Font.Style="0" Frame.Typ="0" HAlign="haRight" ParentFont="False" WordWrap="False" VAlign="vaBottom" Text="РџР°СЂС‚РёСЏ: &#60;B&#62;[РЎС‚СЂРѕРєРё.&#34;Party&#34;]&#60;/B&#62;"/>
      <TfrxBarcode2DView Name="Barcode2D1" Align="baCenter" AllowVectorExport="True" Left="163,41744" Top="5,669295" Width="36" Height="36" StretchMode="smActualHeight" Expression=" Code39AddCheckCode(FnCode)" BarType="bcCodeDataMatrix" BarProperties.CodePage="437" BarProperties.PixelSize="3" BarProperties.SymbolSize="AutoSize" BarProperties.Encoding="Auto" BarProperties.GS1Rule="False" Frame.Typ="0" Rotation="0" ShowText="False" HexData="31003200330034003500360037003800" Zoom="1" FontScaled="True" QuietZone="0" ColorBar="0"/>
      <TfrxMemoView Name="Memo6" IndexTag="1" AllowVectorExport="True" ShiftMode="smDontShift" Left="1,889765" Top="202,204855" Width="360,945115" Height="24,566945" DataSet="NaclStr" DataSetName="Строки" Font.Charset="1" Font.Color="0" Font.Height="-21" Font.Name="Arial" Font.Style="0" Frame.Typ="0" HAlign="haCenter" ParentFont="False" VAlign="vaBottom" Text="[FnPlace]"/>
    </TfrxMasterData>
  </TfrxReportPage>
</TfrxReport>
