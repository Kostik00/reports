<?xml version="1.0" encoding="utf-8"?>
<TfrxReport Version="5.5.2" DotMatrixReport="False" IniFile="\Software\Fast Reports" PreviewOptions.Buttons="2047" PreviewOptions.Zoom="1" PrintOptions.Printer="По умолчанию" PrintOptions.PrintOnSheet="0" ReportOptions.CreateDate="43412,682670706" ReportOptions.Description.Text="" ReportOptions.Name="График для ПСР 1.fr3 Справочник изделий" ReportOptions.LastChange="43413,3574778125" ScriptLanguage="PascalScript" ScriptText.Text="var&#13;&#10;  LvlH :extended;&#13;&#10;&#13;&#10;&#13;&#10;procedure SubdetailData1OnBeforePrint(Sender: TfrxComponent);&#13;&#10;begin&#13;&#10;end;&#13;&#10;&#13;&#10;procedure DetailData1OnBeforePrint(Sender: TfrxComponent);&#13;&#10;begin&#13;&#10;  CodPredmMemo1.Top:= LvlH * &#60;СтрСостав.&#34;Lvl&#34;&#62;;&#13;&#10;  CodPredmMemo2.Top:= LvlH * &#60;СтрСостав.&#34;Lvl&#34;&#62;;&#13;&#10;  CodPredmMemo3.Top:= LvlH * &#60;СтрСостав.&#34;Lvl&#34;&#62;;&#13;&#10;&#13;&#10;end;&#13;&#10;&#13;&#10;begin&#13;&#10;  LvlH:=CodPredmMemo1.Height;&#13;&#10;&#13;&#10;&#13;&#10;end." StoreInDFM="False">
  <Datasets>
    <item DataSet="MainFrxDS" DataSetName="MainDS"/>
    <item DataSet="StrSvQRY" DataSetName="СтрСостав"/>
    <item DataSet="OperQRY" DataSetName="Операции"/>
    <item DataSet="PartZap" DataSetName="ПартЗап"/>
  </Datasets>
  <TfrxDataPage Name="Data" Height="1000" Left="0" Top="0" Width="1000">
    <TfrxERQuery Name="StrSvQRY" UserName="СтрСостав" CloseDataSource="False" FieldAliases.Text="Key_VKZ=Key_VKZ&#13;&#10;Key_VKZ_Zap=Key_VKZ_Zap&#13;&#10;DataZapCr=DataZapCr&#13;&#10;DataVipCr=DataVipCr&#13;&#10;SmDay=SmDay&#13;&#10;DataZapK=DataZapK&#13;&#10;DataVipK=DataVipK&#13;&#10;DataZapUtv=DataZapUtv&#13;&#10;DataVipUtv=DataVipUtv&#13;&#10;DataZapA=DataZapA&#13;&#10;DataVipA=DataVipA&#13;&#10;SmDayK=SmDayK&#13;&#10;Cod_Prin=Cod_Prin&#13;&#10;Cod_Predm=Cod_Predm&#13;&#10;Name_Predm=Name_Predm&#13;&#10;Lvl=Lvl&#13;&#10;Kolvo=Kolvo&#13;&#10;PrintFlag=PrintFlag&#13;&#10;Name_K_Prin=Name_K_Prin&#13;&#10;Kolvo_Zap1=Kolvo_Zap1&#13;&#10;Kolvo_Zap=Kolvo_Zap&#13;&#10;Kolvo_Ready=Kolvo_Ready&#13;&#10;SmKolvo=SmKolvo&#13;&#10;Cod_PredmM=Cod_PredmM&#13;&#10;Name_PredmM=Name_PredmM&#13;&#10;PrintFlagM=PrintFlagM&#13;&#10;SortamM=SortamM&#13;&#10;Type_NTD_SortamM=Type_NTD_SortamM&#13;&#10;Name_NTD_SortamM=Name_NTD_SortamM&#13;&#10;MarkaM=MarkaM&#13;&#10;Type_NTD_MarkaM=Type_NTD_MarkaM&#13;&#10;Name_NTD_MarkaM=Name_NTD_MarkaM&#13;&#10;Prof_Razm=Prof_Razm" BCDToCurrency="False" Master="MainFrxDS" IgnoreDupParams="False" SQL.Text="SELECT     &#13;&#10;       P_VKZ.Key_VKZ,&#13;&#10;       P_VKZ.Key_VKZ_Zap,                              &#13;&#10;               &#13;&#10;&#13;&#10;       P_VKZ.DataZap DataZapCr,&#13;&#10;       P_VKZ.DataVip DataVipCr,         &#13;&#10;&#13;&#10;&#13;&#10;       P_VKZ.SmDay,                                                   &#13;&#10;&#13;&#10;       P_VKZ.DataZapUtv  DataZapK,&#13;&#10;       P_VKZ.DataVipUtv  DataVipK,&#13;&#10;         &#13;&#10;       P_VKZ.DataZapUtv,&#13;&#10;       P_VKZ.DataVipUtv,&#13;&#10;  &#13;&#10;       P_VKZ.DataZapA,&#13;&#10;       P_VKZ.DataVipA,&#13;&#10;           &#13;&#10;       P_VKZ.SmDayK,&#13;&#10;         &#13;&#10;       T_VPredm.Cod_Prin,                                                &#13;&#10;       T_VPredm.Cod_Predm, &#13;&#10;       T_VPredm.Name_Predm, &#13;&#10;       P_VKZ.Lvl AS Lvl, &#13;&#10;       P_VKZ.Kolvo, &#13;&#10;       T_VPredm.PrintFlag,&#13;&#10;       T_VPredm.Name_K_Prin,&#13;&#10;&#13;&#10;                  &#13;&#10;       dbo.Pr_VKZ_Get_Kolvo_Z0(P_VKZ.Key_VKZ) Kolvo_Zap1,  &#13;&#10;         &#13;&#10;       dbo.Pr_VKZ_Get_Kolvo_Zap(P_VKZ.Key_VKZ) Kolvo_Zap,&#13;&#10;       dbo.Pr_VKZ_Get_Kolvo_Ready(P_VKZ.Key_VKZ) Kolvo_Ready,&#13;&#10;       dbo.Pr_VKZ_Get_SmKolvo(P_VKZ.Key_VKZ) SmKolvo,&#13;&#10;&#13;&#10;         &#13;&#10;        PredmM.Cod_Predm 	AS Cod_PredmM,&#13;&#10;        PredmM.Name_Predm 	AS Name_PredmM,&#13;&#10;        PredmM.PrintFlag AS PrintFlagM,                                                                &#13;&#10;&#13;&#10;        PredmM.Sortam SortamM,&#13;&#10;        PredmM.Type_NTD_Sortam AS Type_NTD_SortamM,&#13;&#10;        PredmM.Name_NTD_Sortam AS Name_NTD_SortamM,&#13;&#10;          &#13;&#10;        PredmM.Marka MarkaM,&#13;&#10;        PredmM.Type_NTD_Marka AS Type_NTD_MarkaM,&#13;&#10;        PredmM.Name_NTD_Marka AS Name_NTD_MarkaM,&#13;&#10;        T_SPROWS.Prof_Razm&#13;&#10;                       &#13;&#10;&#13;&#10;         &#13;&#10;FROM         &#13;&#10;       P_VKZ &#13;&#10;       INNER JOIN  T_VPredm &#13;&#10;               ON P_VKZ.Key_Predm = T_VPredm.Key_Predm &#13;&#10;       LEFT JOIN T_SPROWS&#13;&#10;               ON T_SPROWS.Key_SP=P_VKZ.Key_SP&#13;&#10;               AND T_SPROWS.SP_position = 0&#13;&#10;                 &#13;&#10;       LEFT JOIN  T_VPredm PredmM                &#13;&#10;               ON T_SPROWS.Key_Predm = PredmM.Key_Predm&#13;&#10;                                                           &#13;&#10;                            &#13;&#10;WHERE     &#13;&#10;		(P_VKZ.Key_VKZ_Izdel = :Key_VKZ_Izdel)              &#13;&#10;-- AND ((P_VKZ.Cod_Postav in(1,2)) OR  (P_VKZ.Cod_Postav is NULL))&#13;&#10;-- AND P_VKZ.Kolvo &#62; 0&#13;&#10; and ((Isnull(dbo.Pr_VKZ_Get_Kolvo_Ready(P_VKZ.Key_VKZ),0) &#60; P_VKZ.Kolvo) OR (:PrintRdy = 0))&#13;&#10; and ((T_VPredm.Cod_prin &#60;&#62;   '72') or ( :PrintProbe = 1 ))                                                                   &#13;&#10;                                      &#13;&#10;   &#13;&#10;ORDER BY CodStrSv  DESC                                                                                                 " PropData="05704C656674022C0470546F7002380A506172616D657465727301010C2A000000204E616D653D224B65795F564B5A5F497A64656C222044617461547970653D226674496E74656765722200010C34000000204E616D653D225072696E74526479222044617461547970653D226674496E7465676572222045787072657373696F6E3D22312200010C36000000204E616D653D225072696E7450726F6265222044617461547970653D226674496E7465676572222045787072657373696F6E3D2231220000"/>
    <TfrxERQuery Name="OperQRY" UserName="Операции" CloseDataSource="True" FieldAliases.Text="" BCDToCurrency="False" Master="PartZap" IgnoreDupParams="False" SQL.Text="SELECT &#13;&#10;       P_Vkz_Oper.*, T_Oper.*&#13;&#10;FROM&#13;&#10;       P_Vkz_Oper&#13;&#10;       INNER JOIN T_Oper&#13;&#10;               ON T_Oper.Cod_Oper = P_Vkz_Oper.Cod_Oper                                                                                           &#13;&#10;         &#13;&#10;WHERE Key_VKZ_Zap = :Key_VKZ_Zap&#13;&#10;--AND TSmSm &#62; 0                                    &#13;&#10;ORDER BY P_Vkz_Oper.N_Oper_SM&#13;&#10;  " PropData="05704C65667403CC000470546F7002380A506172616D657465727301010C28000000204E616D653D224B65795F564B5A5F5A6170222044617461547970653D226674556E6B6E6F776E220000"/>
    <TfrxERQuery Name="PartZap" UserName="ПартЗап" CloseDataSource="True" FieldAliases.Text="" BCDToCurrency="False" Master="StrSvQRY" IgnoreDupParams="False" SQL.Text="SELECT        &#13;&#10;	P_VKZ_Zap_Det.Key_VKZ, &#13;&#10;	MIN(P_VKZ_Zap.Key_VKZ_Zap) Key_VKZ_Zap                        &#13;&#10;FROM            &#13;&#10;	dbo.P_VKZ_Zap_Det &#13;&#10;	INNER JOIN P_VKZ_Zap &#13;&#10;		ON  P_VKZ_Zap_Det.Key_VKZ_Zap = P_VKZ_Zap.Key_VKZ_Zap&#13;&#10;WHERE &#13;&#10;       P_VKZ_Zap_Det.Key_VKZ = :Key_VKZ&#13;&#10;GROUP BY P_VKZ_Zap_Det.Key_VKZ                               " PropData="05704C656674027C0470546F7002380A506172616D657465727301010C24000000204E616D653D224B65795F564B5A222044617461547970653D226674556E6B6E6F776E220000"/>
  </TfrxDataPage>
  <TfrxReportPage Name="Page1" PaperWidth="210" PaperHeight="297" PaperSize="9" LeftMargin="10" RightMargin="10" TopMargin="10" BottomMargin="10" ColumnWidth="0" ColumnPositions.Text="" EndlessWidth="True" HGuides.Text="" VGuides.Text="">
    <TfrxMasterData Name="MasterData1" FillType="ftBrush" FillGap.Top="0" FillGap.Left="0" FillGap.Bottom="0" FillGap.Right="0" Height="548,03185" Left="0" Top="18,89765" Width="718,1107" ColumnWidth="0" ColumnGap="0" RowCount="1">
      <TfrxMemoView Name="Memo1" Left="275,90569" Top="238,11039" Width="26,45668559" Height="75,5906" DataField="N_Oper_SM" DataSet="OperQRY" DataSetName="Операции" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haCenter" ParentFont="False" Rotation="90" VAlign="vaCenter" Text="[РћРїРµСЂР°С†РёРё.&#34;N_Oper_SM&#34;]"/>
      <TfrxMemoView Name="Memo2" Left="275,90569" Top="313,70099" Width="26,45668559" Height="234,33086" DataSet="OperQRY" DataSetName="Операции" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" ParentFont="False" Rotation="90" VAlign="vaCenter" Text="[РћРїРµСЂР°С†РёРё.&#34;Name_Oper&#34;]"/>
      <TfrxMemoView Name="CodPredmMemo1" Left="147,40167" Top="0" Width="11,33856559" Height="37,7953" Clipped="False" DataSet="OperQRY" DataSetName="Операции" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="13" ParentFont="False" SuppressRepeated="True" WordWrap="False" VAlign="vaCenter" Text="[РЎС‚СЂРЎРѕСЃС‚Р°РІ.&#34;Cod_Predm&#34;] &#13;&#10;[РЎС‚СЂРЎРѕСЃС‚Р°РІ.&#34;Name_Predm&#34;]">
        <Formats>
          <item/>
          <item/>
        </Formats>
      </TfrxMemoView>
      <TfrxMemoView Name="CodPredmMemo2" Left="275,90569" Top="0" Width="26,45668559" Height="37,7953" Clipped="False" DataSet="OperQRY" DataSetName="Операции" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="12" ParentFont="False" SuppressRepeated="True" WordWrap="False" Text="">
        <Formats>
          <item/>
          <item/>
        </Formats>
      </TfrxMemoView>
      <TfrxMemoView Name="CodPredmMemo3" Left="343,93723" Top="0" Width="7,55903559" Height="37,7953" Clipped="False" DataSet="OperQRY" DataSetName="Операции" Font.Charset="1" Font.Color="0" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="14" ParentFont="False" SuppressRepeated="True" WordWrap="False" Text="">
        <Formats>
          <item/>
          <item/>
        </Formats>
      </TfrxMemoView>
    </TfrxMasterData>
    <TfrxMasterData Name="MasterData2" FillType="ftBrush" FillGap.Top="0" FillGap.Left="0" FillGap.Bottom="0" FillGap.Right="0" Height="1046,92981" Left="22,67718" Top="0" Vertical="True" Width="0" ColumnWidth="0" ColumnGap="0" DataSet="StrSvQRY" DataSetName="СтрСостав" RowCount="0"/>
    <TfrxDetailData Name="DetailData1" FillType="ftBrush" FillGap.Top="0" FillGap.Left="0" FillGap.Bottom="0" FillGap.Right="0" Height="1046,92981" Left="147,40167" Top="0" Vertical="True" Width="11,33859" OnBeforePrint="DetailData1OnBeforePrint" ColumnWidth="0" ColumnGap="0" DataSet="PartZap" DataSetName="ПартЗап" RowCount="0"/>
    <TfrxSubdetailData Name="SubdetailData1" FillType="ftBrush" FillGap.Top="0" FillGap.Left="0" FillGap.Bottom="0" FillGap.Right="0" Height="1046,92981" Left="275,90569" Top="0" Vertical="True" Width="26,45671" OnBeforePrint="SubdetailData1OnBeforePrint" ColumnWidth="0" ColumnGap="0" DataSet="OperQRY" DataSetName="Операции" RowCount="0"/>
    <TfrxGroupHeader Name="GroupHeader1" FillType="ftBrush" FillGap.Top="0" FillGap.Left="0" FillGap.Bottom="0" FillGap.Right="0" Height="1046,92981" Left="215,43321" Top="0" Vertical="True" Visible="False" Width="0" Condition="1"/>
    <TfrxGroupFooter Name="GroupFooter1" FillType="ftBrush" FillGap.Top="0" FillGap.Left="0" FillGap.Bottom="0" FillGap.Right="0" Height="1046,92981" Left="343,93723" Top="0" Vertical="True" Width="18,89765"/>
  </TfrxReportPage>
</TfrxReport>
